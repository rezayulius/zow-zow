<!-- Layanan Kami Section -->
        <section id="layanan" class="py-16 md:py-24 lg:py-32 bg-gradient-to-br from-almond-50 via-vanilla-50 to-chai-50">
            <div class="max-w-7xl mx-auto px-6">
                <!-- Premium Services Badge -->
                <div class="text-center mb-8">
                    <div class="inline-flex items-center bg-chai-500 text-white px-6 py-2 rounded-full text-sm font-medium mb-6">
                        <i data-lucide="trophy" class="text-lg mr-2 w-5 h-5"></i>
                        Premium Services
                    </div>
                    <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-carob-900 mb-6 font-heading leading-tight tracking-tight">
                        Layanan Kami
                    </h2>
                    <p class="text-lg text-carob-600 max-w-2xl mx-auto leading-relaxed mb-12">
                        Kami menyediakan perawatan dan layanan komprehensif untuk hewan kesayangan Anda, 
                        memastikan kesehatan, kebahagiaan, dan kesejahteraan mereka.
                    </p>
                </div>

                <!-- Service Highlights Cards -->
                <div class="grid md:grid-cols-3 gap-8 mb-16">
                    <!-- Quick Service Card -->
                    <div class="bg-white rounded-2xl shadow-lg p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group border border-chai-100">
                        <div class="w-16 h-16 bg-gradient-to-br from-chai-400 to-chai-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                            <i data-lucide="zap" class="text-white text-2xl w-8 h-8"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-carob-900 mb-2 group-hover:text-chai-600 transition-colors duration-300">Quick Service</h3>
                        <p class="text-carob-600 text-sm">Same day appointments</p>
                        <div class="mt-4 h-1 bg-gradient-to-r from-chai-400 to-chai-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </div>
                    
                    <!-- Guaranteed Safety Card -->
                    <div class="bg-white rounded-2xl shadow-lg p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group border border-matcha-100">
                        <div class="w-16 h-16 bg-gradient-to-br from-matcha-400 to-matcha-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                            <i data-lucide="shield-check" class="text-white text-2xl w-8 h-8"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-carob-900 mb-2 group-hover:text-matcha-600 transition-colors duration-300">Guaranteed Safety</h3>
                        <p class="text-carob-600 text-sm">Certified professionals</p>
                        <div class="mt-4 h-1 bg-gradient-to-r from-matcha-400 to-matcha-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </div>
                    
                    <!-- Award Winning Card -->
                    <div class="bg-white rounded-2xl shadow-lg p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group border border-carob-100">
                        <div class="w-16 h-16 bg-gradient-to-br from-carob-400 to-carob-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                            <i data-lucide="trophy" class="text-white text-2xl w-8 h-8"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-carob-900 mb-2 group-hover:text-carob-600 transition-colors duration-300">Award Winning</h3>
                        <p class="text-carob-600 text-sm">Best pet care 2024</p>
                        <div class="mt-4 h-1 bg-gradient-to-r from-carob-400 to-carob-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </div>
                </div>

                <!-- Main Service Cards -->
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
                    <!-- Klinik Hewan -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group flex flex-col h-full">
                        <div class="relative h-48 overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1576201836106-db1758fd1c97?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                                 alt="Klinik Hewan" 
                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-br from-matcha-400/80 to-matcha-600/80"></div>
                            <div class="absolute top-4 left-4 bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1">
                                <span class="text-white text-xs font-medium">POPULAR</span>
                            </div>
                            <div class="absolute bottom-4 right-4 bg-white/20 backdrop-blur-sm rounded-full p-2">
                                <i data-lucide="heart" class="text-white text-sm w-4 h-4"></i>
                            </div>
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold text-carob-900 mb-3">Klinik Hewan</h3>
                            <p class="text-carob-600 text-sm mb-4 leading-relaxed">
                                Perawatan dokter hewan profesional dengan fasilitas modern.
                            </p>
                            <ul class="space-y-2 mb-6 flex-grow">
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-matcha-500 rounded-full mr-3 flex items-center justify-center">
                                        <i data-lucide="check" class="text-white text-xs w-3 h-3"></i>
                                    </span>
                                    Pemeriksaan kesehatan
                                </li>
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-matcha-500 rounded-full mr-3 flex items-center justify-center">
                                        <i data-lucide="check" class="text-white text-xs w-3 h-3"></i>
                                    </span>
                                    Vaksinasi lengkap
                                </li>
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-matcha-500 rounded-full mr-3 flex items-center justify-center">
                                        <i data-lucide="check" class="text-white text-xs w-3 h-3"></i>
                                    </span>
                                    Operasi
                                </li>
                            </ul>
                            <button class="w-full bg-matcha-500 text-white py-3 rounded-xl hover:bg-matcha-600 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 font-semibold mt-auto shadow-lg">
                                Pesan Sekarang
                            </button>
                        </div>
                    </div>

                    <!-- Salon Hewan -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group flex flex-col h-full">
                        <div class="relative h-48 overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1583337130417-3346a1be7dee?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                                 alt="Salon Hewan" 
                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-br from-chai-400/80 to-chai-600/80"></div>
                            <div class="absolute top-4 left-4 bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1">
                                <span class="text-white text-xs font-medium">QUICK & EASY</span>
                            </div>
                            <div class="absolute bottom-4 right-4 bg-white/20 backdrop-blur-sm rounded-full p-2">
                                <i data-lucide="sparkles" class="text-white text-sm w-4 h-4"></i>
                            </div>
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold text-carob-900 mb-3">Salon Hewan</h3>
                            <p class="text-carob-600 text-sm mb-4 leading-relaxed">
                                Layanan grooming profesional untuk kebersihan hewan Anda.
                            </p>
                            <ul class="space-y-2 mb-6 flex-grow">
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-chai-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    Grooming lengkap
                                </li>
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-chai-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    Potong kuku
                                </li>
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-chai-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    Mandi
                                </li>
                            </ul>
                            <button class="w-full bg-chai-500 text-white py-3 rounded-xl hover:bg-chai-600 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 font-semibold mt-auto shadow-lg">
                                Pesan Sekarang
                            </button>
                        </div>
                    </div>

                    <!-- Hotel Hewan -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group flex flex-col h-full">
                        <div class="relative h-48 overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1601758228041-f3b2795255f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                                 alt="Hotel Hewan" 
                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-br from-carob-400/80 to-carob-600/80"></div>
                            <div class="absolute top-4 left-4 bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1">
                                <span class="text-white text-xs font-medium">SAFE & COZY</span>
                            </div>
                            <div class="absolute bottom-4 right-4 bg-white/20 backdrop-blur-sm rounded-full p-2">
                                <span class="text-white text-sm">üõèÔ∏è</span>
                            </div>
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold text-carob-900 mb-3">Hotel Hewan</h3>
                            <p class="text-carob-600 text-sm mb-4 leading-relaxed">
                                Penginapan yang aman dan nyaman untuk hewan Anda.
                            </p>
                            <ul class="space-y-2 mb-6 flex-grow">
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-carob-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    Pengawasan 24/7
                                </li>
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-carob-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    Kamar ber-AC
                                </li>
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-carob-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    Layanan Makan
                                </li>
                            </ul>
                            <button class="w-full bg-carob-500 text-white py-3 rounded-xl hover:bg-carob-600 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 font-semibold mt-auto shadow-lg">
                                Pesan Sekarang
                            </button>
                        </div>
                    </div>

                    <!-- Kafe Hewan -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group flex flex-col h-full">
                        <div class="relative h-48 overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1574144611937-0df059b5ef3e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                                 alt="Kafe Hewan" 
                                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-br from-pistache-400/80 to-pistache-600/80"></div>
                            <div class="absolute top-4 left-4 bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1">
                                <span class="text-white text-xs font-medium">RELAX & ENJOY</span>
                            </div>
                            <div class="absolute bottom-4 right-4 bg-white/20 backdrop-blur-sm rounded-full p-2">
                                <span class="text-white text-sm">üêæ</span>
                            </div>
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold text-carob-900 mb-3">Kafe Hewan</h3>
                            <p class="text-carob-600 text-sm mb-4 leading-relaxed">
                                Bersantai dengan hewan Anda sambil menikmati kopi.
                            </p>
                            <ul class="space-y-2 mb-6 flex-grow">
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-pistache-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    Menu Spesial Hewan
                                </li>
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-pistache-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    Tempat Bermain
                                </li>
                                <li class="flex items-center text-sm text-carob-600">
                                    <span class="w-4 h-4 bg-pistache-500 rounded-full mr-3 flex items-center justify-center">
                                        <span class="text-white text-xs">‚úì</span>
                                    </span>
                                    WiFi Gratis
                                </li>
                            </ul>
                            <button class="w-full bg-pistache-500 text-white py-3 rounded-xl hover:bg-pistache-600 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 font-semibold mt-auto shadow-lg">
                                Pesan Sekarang
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Custom Care Plan Section -->
                <div class="bg-gradient-to-r from-carob-600 to-carob-700 rounded-2xl p-8 text-center text-white">
                    <h3 class="text-2xl font-bold mb-4">Need a Custom Care Plan?</h3>
                    <p class="text-carob-100 mb-6 max-w-2xl mx-auto">
                        Let our experts create a personalized wellness program for your pet
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                        <button class="relative overflow-hidden bg-white text-carob-700 px-8 py-3 rounded-xl hover:bg-almond-50 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 flex items-center justify-center font-semibold shadow-lg">
                            <span class="mr-2">üìÖ</span>
                            Schedule Consultation
                        </button>
                        <button class="relative overflow-hidden flex items-center space-x-2 text-carob-100 hover:text-white transition-all duration-300 bg-transparent border border-carob-100 hover:border-white px-8 py-3 rounded-xl hover:bg-carob-100/10 hover:-translate-y-1 hover:shadow-xl font-semibold shadow-lg">
                            <span class="text-sm">üìû</span>
                            <span class="text-sm">Call us: (021) 123-4567</span>
                        </button>
                    </div>
                </div>

                <!-- Booking Section -->
                <div class="bg-gradient-to-br from-matcha-50 via-white to-chai-50 rounded-2xl p-8 mt-16">
                    <div class="text-center mb-12">
                        <h3 class="text-2xl sm:text-3xl font-bold text-carob-900 mb-4">
                            Mudah Booking untuk Pet Kesayangan
                        </h3>
                        <p class="text-carob-600 max-w-2xl mx-auto">
                            Jadwalkan appointment dengan cepat, bayar dengan mudah, atau hubungi kami langsung untuk kebutuhan darurat pet Anda
                        </p>
                    </div>

                    <!-- Booking Options -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                        <!-- Appointment -->
                        <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group border border-chai-100">
                            <div class="w-16 h-16 bg-gradient-to-br from-chai-400 to-chai-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <i data-lucide="calendar" class="text-white text-2xl w-8 h-8"></i>
                            </div>
                            <h4 class="text-lg font-semibold text-carob-900 mb-2">Appointment</h4>
                            <p class="text-carob-600 text-sm mb-4">Jadwalkan appointment lengkap</p>
                            <button id="appointmentBtn" class="w-full bg-chai-500 text-white py-3 rounded-xl hover:bg-chai-600 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 font-semibold shadow-lg">
                                Buat Appointment
                            </button>
                        </div>
                        <!-- Emergency -->
                        <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group border border-red-100">
                            <div class="w-16 h-16 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <i data-lucide="alert-triangle" class="text-white text-2xl w-8 h-8"></i>
                            </div>
                            <h4 class="text-lg font-semibold text-carob-900 mb-2">Emergency</h4>
                            <p class="text-carob-600 text-sm mb-4">Hubungi untuk darurat</p>
                            <button class="w-full bg-red-500 text-white py-3 rounded-xl hover:bg-red-600 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 font-semibold shadow-lg">
                                Call Now
                            </button>
                        </div>

                        <!-- Chat Support -->
                        <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group border border-matcha-100">
                            <div class="w-16 h-16 bg-gradient-to-br from-matcha-400 to-matcha-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <i data-lucide="message-circle" class="text-white text-2xl w-8 h-8"></i>
                            </div>
                            <h4 class="text-lg font-semibold text-carob-900 mb-2">Chat Support</h4>
                            <p class="text-carob-600 text-sm mb-4">Tanya ZOW AI atau Admin</p>
                            <button class="w-full bg-matcha-500 text-white py-3 rounded-xl hover:bg-matcha-600 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 font-semibold shadow-lg">
                                Chat WhatsApp
                            </button>
                        </div>

                        <!-- Online Consultation -->
                        <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group border border-pistache-100">
                            <div class="w-16 h-16 bg-gradient-to-br from-pistache-400 to-pistache-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <i data-lucide="video" class="text-white text-2xl w-8 h-8"></i>
                            </div>
                            <h4 class="text-lg font-semibold text-carob-900 mb-2">Online Consultation</h4>
                            <p class="text-carob-600 text-sm mb-4">Konsultasi online dengan dokter</p>
                            <button class="w-full bg-pistache-500 text-white py-3 rounded-xl hover:bg-pistache-600 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 font-semibold shadow-lg">
                                Mulai Konsultasi
                            </button>
                        </div>
                    </div>

                    <!-- Quick Booking Services -->
                    <div class="bg-white rounded-2xl p-5 shadow-lg border border-chai-100">
                        <!-- Header -->
                        <div class="flex items-center mb-5">
                            <div class="w-10 h-10 bg-gradient-to-br from-matcha-400 to-chai-500 rounded-xl flex items-center justify-center mr-3">
                                <i data-lucide="zap" class="text-white w-5 h-5"></i>
                            </div>
                            <h4 class="text-xl font-bold text-carob-900">Quick Booking Services</h4>
                        </div>
                        
                        <!-- Services Grid -->
                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <!-- Grooming Premium -->
                            <div class="bg-gradient-to-r from-chai-50 to-vanilla-50 rounded-xl p-4 border border-chai-200 relative">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="w-8 h-8 bg-gradient-to-br from-chai-400 to-chai-600 rounded-lg flex items-center justify-center">
                                        <i data-lucide="sparkles" class="text-white w-4 h-4"></i>
                                    </div>
                                    <span class="bg-chai-500 text-white text-xs px-2 py-1 rounded-full font-medium">NEW</span>
                                </div>
                                <h5 class="font-bold text-carob-900 mb-1">Grooming Premium</h5>
                                <p class="text-chai-700 font-semibold text-sm mb-2">Rp 100.000</p>
                                <button class="quick-book-btn w-full bg-gradient-to-r from-chai-500 to-chai-600 text-white py-2 rounded-lg text-sm hover:from-chai-600 hover:to-chai-700 transition-colors font-medium" data-service="grooming">
                                    Book Now
                                </button>
                            </div>

                            <!-- Konsultasi Dokter -->
                            <div class="bg-gradient-to-r from-matcha-50 to-matcha-100 rounded-xl p-4 border border-matcha-200">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="w-8 h-8 bg-gradient-to-br from-matcha-400 to-matcha-600 rounded-lg flex items-center justify-center">
                                        <i data-lucide="stethoscope" class="text-white w-4 h-4"></i>
                                    </div>
                                    <span class="bg-matcha-600 text-white text-xs px-2 py-1 rounded-full font-medium">Popular</span>
                                </div>
                                <h5 class="font-bold text-carob-900 mb-1">Konsultasi Dokter</h5>
                                <p class="text-matcha-700 font-semibold text-sm mb-2">Rp 150.000</p>
                                <button class="quick-book-btn w-full bg-matcha-500 text-white py-2 rounded-lg text-sm hover:bg-matcha-600 transition-colors font-medium" data-service="konsultasi">
                                    Book Now
                                </button>
                            </div>

                            <!-- Vaksinasi Lengkap -->
                            <div class="bg-gradient-to-r from-pistache-50 to-pistache-100 rounded-xl p-4 border border-pistache-200">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="w-8 h-8 bg-gradient-to-br from-pistache-400 to-pistache-600 rounded-lg flex items-center justify-center">
                                        <i data-lucide="syringe" class="text-white w-4 h-4"></i>
                                    </div>
                                    <span class="bg-pistache-600 text-white text-xs px-2 py-1 rounded-full font-medium">Essential</span>
                                </div>
                                <h5 class="font-bold text-carob-900 mb-1">Vaksinasi Lengkap</h5>
                                <p class="text-pistache-700 font-semibold text-sm mb-2">Rp 200.000</p>
                                <button class="quick-book-btn w-full bg-pistache-500 text-white py-2 rounded-lg text-sm hover:bg-pistache-600 transition-colors font-medium" data-service="vaksinasi">
                                    Book Now
                                </button>
                            </div>

                            <!-- Health Check-up -->
                            <div class="bg-gradient-to-r from-carob-50 to-carob-100 rounded-xl p-4 border border-carob-200">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="w-8 h-8 bg-gradient-to-br from-carob-400 to-carob-600 rounded-lg flex items-center justify-center">
                                        <i data-lucide="search" class="text-white w-4 h-4"></i>
                                    </div>
                                    <span class="bg-carob-600 text-white text-xs px-2 py-1 rounded-full font-medium">Trusted</span>
                                </div>
                                <h5 class="font-bold text-carob-900 mb-1">Health Check-up</h5>
                                <p class="text-carob-700 font-semibold text-sm mb-2">Rp 250.000</p>
                                <button class="quick-book-btn w-full bg-carob-500 text-white py-2 rounded-lg text-sm hover:bg-carob-600 transition-colors font-medium" data-service="checkup">
                                    Book Now
                                </button>
                            </div>
                        </div>

                        <!-- Multi-Step Booking Form -->
                        <div id="bookingForm" class="hidden mt-1 sm:mt-4 bg-white rounded-xl sm:rounded-3xl shadow-2xl border border-chai-100 transform transition-all duration-700 ease-in-out opacity-0 translate-y-4 backdrop-blur-sm min-h-[90vh] max-h-[95vh] sm:min-h-[85vh] sm:max-h-[90vh] flex flex-col mx-1 sm:mx-2 lg:mx-0 overflow-hidden w-[calc(100vw-0.5rem)] sm:w-auto">
                            <!-- Form Header -->
                            <div class="text-center mb-2 sm:mb-6 p-2 sm:p-6 pb-0 flex-shrink-0">
                                <div class="w-10 h-10 sm:w-16 sm:h-16 bg-gradient-to-br from-chai-500 to-chai-600 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-2 sm:mb-4 shadow-lg">
                                    <i data-lucide="calendar-plus" class="text-white w-5 h-5 sm:w-8 sm:h-8"></i>
                                </div>
                                <h2 class="text-lg sm:text-2xl font-bold text-carob-900 mb-1 sm:mb-2">Buat Appointment</h2>
                                <p class="text-xs sm:text-base text-carob-600">Jadwalkan layanan terbaik untuk hewan peliharaan Anda</p>
                            </div>
                            
                            <!-- Progress Bar -->
                            <div class="mb-2 sm:mb-6 px-3 sm:px-8 flex-shrink-0">
                                <div class="flex items-center justify-between mb-2 sm:mb-4">
                                    <span class="text-xs font-semibold text-carob-700 bg-carob-50 px-2 py-1 rounded-full">
                                        Step <span id="currentStep">1</span> of 3
                                    </span>
                                    <button id="closeForm" class="text-carob-400 hover:text-carob-600 transition-all duration-200 hover:scale-110 hover:bg-carob-50 p-1 sm:p-2 rounded-full">
                                        <i data-lucide="x" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                                    </button>
                                </div>
                                <div class="w-full bg-gradient-to-r from-carob-100 to-carob-50 rounded-full h-1.5 sm:h-3 shadow-inner">
                                    <div id="progressBar" class="bg-gradient-to-r from-chai-500 via-chai-600 to-matcha-500 h-1.5 sm:h-3 rounded-full transition-all duration-700 ease-out shadow-sm" style="width: 33.33%"></div>
                                </div>
                                <!-- Progress Steps Indicator -->
                                <div class="flex justify-between mt-1 sm:mt-3 text-xs">
                                    <span class="text-chai-600 font-medium">Pet & Layanan</span>
                                    <span class="text-carob-400">Jadwal</span>
                                    <span class="text-carob-400">Konfirmasi</span>
                                </div>
                            </div>

                            <!-- Form Content Area - Scrollable -->
                            <div class="flex-1 overflow-y-auto px-3 sm:px-8 pb-2 sm:pb-4 min-h-0 scrollbar-thin scrollbar-thumb-carob-300 scrollbar-track-carob-100" style="scrollbar-width: thin; scrollbar-color: #d1d5db #f3f4f6; -webkit-overflow-scrolling: touch;">

                            <!-- Step 1: Pet & Service Selection -->
                            <div id="step1" class="step-content pb-4">
                                <div class="bg-gradient-to-br from-matcha-50 to-pistache-50 rounded-xl sm:rounded-2xl p-3 sm:p-6 mb-3 sm:mb-6">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center">
                                            <i data-lucide="heart" class="w-4 h-4 sm:w-6 sm:h-6 text-matcha-600 mr-2 sm:mr-3 flex-shrink-0"></i>
                                            <h3 class="text-base sm:text-xl font-bold text-carob-900 truncate">Biodata Hewan Peliharaan</h3>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <span id="petCounter" class="text-xs sm:text-sm font-semibold text-matcha-600 bg-matcha-100 px-2 py-1 rounded-full">Pet 1 dari 1</span>
                                            <button type="button" id="addPetBtn" class="bg-gradient-to-r from-chai-500 to-chai-600 text-white p-1.5 sm:p-2 rounded-lg hover:from-chai-600 hover:to-chai-700 transition-all duration-300 shadow-md hover:shadow-lg">
                                                <i data-lucide="plus" class="w-3 h-3 sm:w-4 sm:h-4"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <p class="text-carob-600 text-xs sm:text-sm">Berikan informasi lengkap tentang hewan peliharaan Anda</p>
                                </div>
                                
                                <!-- Pet Navigation -->
                                <div id="petNavigation" class="flex items-center justify-center gap-2 mb-4 hidden">
                                    <button type="button" id="prevPetBtn" class="p-2 text-carob-400 hover:text-chai-600 hover:bg-chai-50 rounded-lg transition-all duration-300">
                                        <i data-lucide="chevron-left" class="w-4 h-4"></i>
                                    </button>
                                    <div id="petTabs" class="flex gap-1"></div>
                                    <button type="button" id="nextPetBtn" class="p-2 text-carob-400 hover:text-chai-600 hover:bg-chai-50 rounded-lg transition-all duration-300">
                                        <i data-lucide="chevron-right" class="w-4 h-4"></i>
                                    </button>
                                </div>

                                <!-- Pet Forms Container -->
                                <div id="petFormsContainer"></div>
                                
                                <!-- Template for Pet Form (hidden) -->
                                <template id="petFormTemplate">
                                <div class="pet-form-wrapper" data-pet-index="0">
                                    <div class="flex items-center justify-between mb-3">
                                        <h4 class="text-sm sm:text-lg font-semibold text-carob-800 flex items-center">
                                            <i data-lucide="paw-print" class="w-4 h-4 mr-2 text-matcha-600"></i>
                                            <span class="pet-title">Hewan Peliharaan #1</span>
                                        </h4>
                                        <button type="button" class="remove-pet-btn hidden bg-red-500 text-white p-1.5 rounded-lg hover:bg-red-600 transition-all duration-300 shadow-md">
                                            <i data-lucide="trash-2" class="w-3 h-3"></i>
                                        </button>
                                    </div>
                                    
                                    <!-- Service Selection for this Pet -->
                                    <div class="mb-4 sm:mb-6">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 mb-2 flex items-center">
                                            <i data-lucide="heart-handshake" class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-chai-600 flex-shrink-0"></i>
                                            <span>Pilih Layanan</span>
                                        </label>
                                        <div class="grid gap-2 sm:gap-3">
                                            <label class="group flex items-center p-2 sm:p-3 border-2 border-carob-100 rounded-lg sm:rounded-xl hover:border-chai-400 cursor-pointer transition-all duration-300 hover:shadow-md hover:bg-gradient-to-r hover:from-white hover:to-chai-50">
                                                <input type="radio" name="petService_0" value="grooming" class="mr-2 sm:mr-3 text-chai-500 scale-110 flex-shrink-0">
                                                <div class="flex items-center flex-1 min-w-0">
                                                    <div class="w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-chai-400 to-chai-600 rounded-lg flex items-center justify-center mr-2 sm:mr-3 shadow-md flex-shrink-0">
                                                        <i data-lucide="sparkles" class="text-white w-3 h-3 sm:w-4 sm:h-4"></i>
                                                    </div>
                                                    <div class="flex-1 min-w-0">
                                                        <div class="font-bold text-carob-900 text-xs sm:text-sm truncate">Grooming Premium</div>
                                                        <div class="text-chai-600 font-bold text-xs sm:text-sm">Rp 100.000</div>
                                                    </div>
                                                </div>
                                            </label>
                                            <label class="group flex items-center p-2 sm:p-3 border-2 border-carob-100 rounded-lg sm:rounded-xl hover:border-matcha-400 cursor-pointer transition-all duration-300 hover:shadow-md hover:bg-gradient-to-r hover:from-white hover:to-matcha-50">
                                                <input type="radio" name="petService_0" value="konsultasi" class="mr-2 sm:mr-3 text-matcha-500 scale-110 flex-shrink-0">
                                                <div class="flex items-center flex-1 min-w-0">
                                                    <div class="w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-matcha-400 to-matcha-600 rounded-lg flex items-center justify-center mr-2 sm:mr-3 shadow-md flex-shrink-0">
                                                        <i data-lucide="stethoscope" class="text-white w-3 h-3 sm:w-4 sm:h-4"></i>
                                                    </div>
                                                    <div class="flex-1 min-w-0">
                                                        <div class="font-bold text-carob-900 text-xs sm:text-sm truncate">Konsultasi Dokter</div>
                                                        <div class="text-matcha-600 font-bold text-xs sm:text-sm">Rp 150.000</div>
                                                    </div>
                                                </div>
                                            </label>
                                            <label class="group flex items-center p-2 sm:p-3 border-2 border-carob-100 rounded-lg sm:rounded-xl hover:border-pistache-400 cursor-pointer transition-all duration-300 hover:shadow-md hover:bg-gradient-to-r hover:from-white hover:to-pistache-50">
                                                <input type="radio" name="petService_0" value="vaksinasi" class="mr-2 sm:mr-3 text-pistache-500 scale-110 flex-shrink-0">
                                                <div class="flex items-center flex-1 min-w-0">
                                                    <div class="w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-pistache-400 to-pistache-600 rounded-lg flex items-center justify-center mr-2 sm:mr-3 shadow-md flex-shrink-0">
                                                        <i data-lucide="syringe" class="text-white w-3 h-3 sm:w-4 sm:h-4"></i>
                                                    </div>
                                                    <div class="flex-1 min-w-0">
                                                        <div class="font-bold text-carob-900 text-xs sm:text-sm truncate">Vaksinasi Lengkap</div>
                                                        <div class="text-pistache-600 font-bold text-xs sm:text-sm">Rp 200.000</div>
                                                    </div>
                                                </div>
                                            </label>
                                            <label class="group flex items-center p-2 sm:p-3 border-2 border-carob-100 rounded-lg sm:rounded-xl hover:border-carob-400 cursor-pointer transition-all duration-300 hover:shadow-md hover:bg-gradient-to-r hover:from-white hover:to-carob-50">
                                                <input type="radio" name="petService_0" value="checkup" class="mr-2 sm:mr-3 text-carob-500 scale-110 flex-shrink-0">
                                                <div class="flex items-center flex-1 min-w-0">
                                                    <div class="w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-carob-400 to-carob-600 rounded-lg flex items-center justify-center mr-2 sm:mr-3 shadow-md flex-shrink-0">
                                                        <i data-lucide="search" class="text-white w-3 h-3 sm:w-4 sm:h-4"></i>
                                                    </div>
                                                    <div class="flex-1 min-w-0">
                                                        <div class="font-bold text-carob-900 text-xs sm:text-sm truncate">Health Check-up</div>
                                                        <div class="text-carob-600 font-bold text-xs sm:text-sm">Rp 250.000</div>
                                                    </div>
                                                </div>
                                            </label>
                                        </div>
                                    </div>

                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-6">
                                    <div class="space-y-1 sm:space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="tag" class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-chai-600 flex-shrink-0"></i>
                                            <span>Nama Pet</span>
                                        </label>
                                        <input type="text" id="petName_0" name="petName_0" class="pet-name w-full p-2 sm:p-4 border-2 border-carob-100 rounded-lg sm:rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base" placeholder="Contoh: Fluffy, Max, Bella">
                                    </div>
                                    <div class="space-y-1 sm:space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="paw-print" class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-matcha-600 flex-shrink-0"></i>
                                            <span>Jenis Hewan</span>
                                        </label>
                                        <select id="petType_0" name="petType_0" class="pet-type w-full p-2 sm:p-4 border-2 border-carob-100 rounded-lg sm:rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base">
                                            <option value="">Pilih jenis hewan</option>
                                            <option value="anjing">üêï Anjing</option>
                                            <option value="kucing">üê± Kucing</option>
                                            <option value="kelinci">üê∞ Kelinci</option>
                                            <option value="hamster">üêπ Hamster</option>
                                            <option value="burung">üê¶ Burung</option>
                                        </select>
                                    </div>
                                    <div class="space-y-1 sm:space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="dna" class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-pistache-600 flex-shrink-0"></i>
                                            <span>Ras</span>
                                        </label>
                                        <input type="text" id="petBreed" class="w-full p-2 sm:p-4 border-2 border-carob-100 rounded-lg sm:rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base" placeholder="Contoh: Golden Retriever, Persian">
                                    </div>
                                    <div class="space-y-1 sm:space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="calendar" class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-carob-600 flex-shrink-0"></i>
                                            <span>Umur</span>
                                        </label>
                                        <input type="text" id="petAge_0" name="petAge_0" class="pet-age w-full p-2 sm:p-4 border-2 border-carob-100 rounded-lg sm:rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base" placeholder="Contoh: 2 tahun, 6 bulan">
                                    </div>
                                    <div class="space-y-1 sm:space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="user" class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-matcha-600 flex-shrink-0"></i>
                                            <span>Jenis Kelamin</span>
                                        </label>
                                        <div class="flex gap-3 sm:gap-4">
                                            <label class="flex items-center cursor-pointer group">
                                                <input type="radio" name="petGender_0" value="jantan" class="mr-1 sm:mr-2 text-chai-500 scale-110 sm:scale-125">
                                                <span class="text-xs sm:text-sm text-carob-700 group-hover:text-chai-600 transition-colors">‚ôÇÔ∏è Jantan</span>
                                            </label>
                                            <label class="flex items-center cursor-pointer group">
                                                <input type="radio" name="petGender_0" value="betina" class="mr-1 sm:mr-2 text-chai-500 scale-110 sm:scale-125">
                                                <span class="text-xs sm:text-sm text-carob-700 group-hover:text-chai-600 transition-colors">‚ôÄÔ∏è Betina</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="space-y-1 sm:space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="palette" class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-pistache-600 flex-shrink-0"></i>
                                            <span>Warna</span>
                                        </label>
                                        <input type="text" id="petColor_0" name="petColor_0" class="pet-color w-full p-2 sm:p-4 border-2 border-carob-100 rounded-lg sm:rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base" placeholder="Contoh: Coklat, Putih, Hitam belang">
                                    </div>
                                    <div class="sm:col-span-2 space-y-1 sm:space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="file-text" class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-chai-600 flex-shrink-0"></i>
                                            <span>Catatan Khusus / Keluhan</span>
                                        </label>
                                        <textarea id="petNotes_0" name="petNotes_0" class="pet-notes w-full p-2 sm:p-4 border-2 border-carob-100 rounded-lg sm:rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md resize-none text-sm sm:text-base" rows="2" placeholder="Ceritakan kondisi khusus, alergi, atau hal penting lainnya tentang hewan peliharaan Anda..."></textarea>
                                    </div>
                                </div>
                                </div>
                                </template>
                            </div>

                            <!-- Step 2: Pemilihan Waktu & Dokter -->
                            <div id="step2" class="step-content hidden pb-4">
                                <div class="bg-gradient-to-br from-chai-50 to-matcha-50 rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6">
                                    <h3 class="text-lg sm:text-xl font-bold text-carob-900 mb-2 flex items-center">
                                        <i data-lucide="calendar-clock" class="w-5 h-5 sm:w-6 sm:h-6 text-chai-600 mr-2 sm:mr-3 flex-shrink-0"></i>
                                        <span class="truncate">Pemilihan Waktu & Dokter</span>
                                    </h3>
                                    <p class="text-carob-600 text-xs sm:text-sm">Tentukan waktu yang paling sesuai dan pilih dokter terbaik untuk hewan peliharaan Anda</p>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
                                    <div class="space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="calendar-days" class="w-3 h-3 sm:w-4 sm:h-4 mr-2 text-chai-600 flex-shrink-0"></i>
                                            <span>Tanggal Appointment</span>
                                        </label>
                                        <input type="date" id="appointmentDate" class="w-full p-3 sm:p-4 border-2 border-carob-100 rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base">
                                    </div>
                                    <div class="space-y-2">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="clock" class="w-3 h-3 sm:w-4 sm:h-4 mr-2 text-matcha-600 flex-shrink-0"></i>
                                            <span>Waktu</span>
                                        </label>
                                        <select id="appointmentTime" class="w-full p-3 sm:p-4 border-2 border-carob-100 rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base">
                                            <option value="">Pilih waktu</option>
                                            <option value="09:00">üåÖ 09:00 WIB - Pagi</option>
                                            <option value="10:00">‚òÄÔ∏è 10:00 WIB - Pagi</option>
                                            <option value="11:00">‚òÄÔ∏è 11:00 WIB - Pagi</option>
                                            <option value="13:00">üåû 13:00 WIB - Siang</option>
                                            <option value="14:00">üåû 14:00 WIB - Siang</option>
                                            <option value="15:00">üåû 15:00 WIB - Siang</option>
                                            <option value="16:00">üåÖ 16:00 WIB - Sore</option>
                                        </select>
                                    </div>
                                    <div class="sm:col-span-2 space-y-3">
                                        <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                            <i data-lucide="user-check" class="w-3 h-3 sm:w-4 sm:h-4 mr-2 text-pistache-600 flex-shrink-0"></i>
                                            <span>Pilih Dokter untuk Setiap Hewan</span>
                                        </label>
                                        <div id="doctorSelectionContainer">
                                            <!-- Doctor selections will be dynamically generated here -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 3: Ringkasan Booking -->
                            <div id="step3" class="step-content hidden pb-4">
                                <div class="bg-gradient-to-br from-pistache-50 to-chai-50 rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6">
                                    <h3 class="text-lg sm:text-xl font-bold text-carob-900 mb-2 flex items-center">
                                        <i data-lucide="clipboard-check" class="w-5 h-5 sm:w-6 sm:h-6 text-pistache-600 mr-2 sm:mr-3 flex-shrink-0"></i>
                                        <span class="truncate">Ringkasan Booking</span>
                                    </h3>
                                    <p class="text-carob-600 text-xs sm:text-sm">Periksa kembali detail booking Anda sebelum melanjutkan ke konfirmasi</p>
                                </div>

                                <!-- Pet Summary -->
                                <div class="bg-white rounded-2xl p-4 sm:p-6 border-2 border-carob-100 shadow-sm mb-4 sm:mb-6">
                                    <h4 class="font-bold text-carob-900 mb-4 flex items-center text-base sm:text-lg">
                                        <i data-lucide="heart" class="w-4 h-4 sm:w-5 sm:h-5 text-chai-600 mr-2 flex-shrink-0"></i>
                                        <span>Data Hewan Peliharaan</span>
                                    </h4>
                                    <div id="petSummary" class="space-y-4">
                                        <!-- Pet summary will be populated by JavaScript -->
                                    </div>
                                </div>

                                <!-- Appointment Summary -->
                                <div class="bg-white rounded-2xl p-4 sm:p-6 border-2 border-carob-100 shadow-sm mb-4 sm:mb-6">
                                    <h4 class="font-bold text-carob-900 mb-4 flex items-center text-base sm:text-lg">
                                        <i data-lucide="calendar-clock" class="w-4 h-4 sm:w-5 sm:h-5 text-matcha-600 mr-2 flex-shrink-0"></i>
                                        <span>Detail Appointment</span>
                                    </h4>
                                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                        <div class="bg-gradient-to-br from-chai-50 to-white p-4 rounded-xl border border-chai-200">
                                            <div class="flex items-center mb-2">
                                                <i data-lucide="calendar-days" class="w-4 h-4 text-chai-600 mr-2"></i>
                                                <span class="text-xs font-semibold text-carob-700">Tanggal</span>
                                            </div>
                                            <div id="summaryDate" class="text-sm font-bold text-carob-900">-</div>
                                        </div>
                                        <div class="bg-gradient-to-br from-matcha-50 to-white p-4 rounded-xl border border-matcha-200">
                                            <div class="flex items-center mb-2">
                                                <i data-lucide="clock" class="w-4 h-4 text-matcha-600 mr-2"></i>
                                                <span class="text-xs font-semibold text-carob-700">Waktu</span>
                                            </div>
                                            <div id="summaryTime" class="text-sm font-bold text-carob-900">-</div>
                                        </div>
                                        <div class="bg-gradient-to-br from-pistache-50 to-white p-4 rounded-xl border border-pistache-200">
                                            <div class="flex items-center mb-2">
                                                <i data-lucide="user-check" class="w-4 h-4 text-pistache-600 mr-2"></i>
                                                <span class="text-xs font-semibold text-carob-700">Dokter</span>
                                            </div>
                                            <div id="summaryDoctor" class="text-sm font-bold text-carob-900">-</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Customer Information -->
                                <div class="bg-white rounded-2xl p-4 sm:p-6 border-2 border-carob-100 shadow-sm mb-4 sm:mb-6">
                                    <h4 class="font-bold text-carob-900 mb-4 flex items-center text-base sm:text-lg">
                                        <i data-lucide="user" class="w-4 h-4 sm:w-5 sm:h-5 text-chai-600 mr-2 flex-shrink-0"></i>
                                        <span>Informasi Pelanggan</span>
                                    </h4>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
                                        <div class="space-y-2">
                                            <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                                <i data-lucide="user-circle" class="w-3 h-3 sm:w-4 sm:h-4 mr-2 text-chai-600 flex-shrink-0"></i>
                                                <span>Nama Lengkap</span>
                                            </label>
                                            <input type="text" id="customerName" class="w-full p-3 sm:p-4 border-2 border-carob-100 rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base" placeholder="Masukkan nama lengkap Anda" required>
                                        </div>
                                        <div class="space-y-2">
                                            <label class="block text-xs sm:text-sm font-semibold text-carob-700 flex items-center">
                                                <i data-lucide="phone" class="w-3 h-3 sm:w-4 sm:h-4 mr-2 text-matcha-600 flex-shrink-0"></i>
                                                <span>Nomor WhatsApp</span>
                                            </label>
                                            <input type="tel" id="customerWhatsapp" class="w-full p-3 sm:p-4 border-2 border-carob-100 rounded-xl focus:border-chai-500 focus:ring-4 focus:ring-chai-100 transition-all duration-300 bg-white shadow-sm hover:shadow-md text-sm sm:text-base" placeholder="Contoh: 08123456789" required>
                                        </div>
                                    </div>
                                    
                                    <!-- Terms and Conditions -->
                                    <div class="mt-4 sm:mt-6 p-3 sm:p-4 bg-gradient-to-r from-chai-50 to-matcha-50 rounded-xl border border-chai-200">
                                        <label class="flex items-start cursor-pointer">
                                            <input type="checkbox" id="agreeTerms" class="mt-1 mr-2 sm:mr-3 text-chai-500 scale-110 sm:scale-125 flex-shrink-0" required>
                                            <span class="text-xs sm:text-sm text-carob-700">
                                                Saya setuju dengan <a href="#" class="text-chai-600 font-semibold hover:underline">syarat dan ketentuan</a> yang berlaku dan memahami bahwa informasi booking akan dikirimkan melalui WhatsApp.
                                            </span>
                                        </label>
                                    </div>
                                    
                                    <!-- Clinic Responsibility Terms -->
                                    <div class="mt-3 sm:mt-4 p-3 sm:p-4 bg-gradient-to-r from-pistache-50 to-chai-50 rounded-xl border border-pistache-200">
                                        <label class="flex items-start cursor-pointer">
                                            <input type="checkbox" id="agreeResponsibility" class="mt-1 mr-2 sm:mr-3 text-pistache-500 scale-110 sm:scale-125 flex-shrink-0" required>
                                            <span class="text-xs sm:text-sm text-carob-700">
                                                Saya memahami bahwa <strong>klinik bertanggung jawab berdasarkan data yang saya isi pada formulir</strong> dan telah memberikan informasi yang akurat mengenai hewan peliharaan saya.
                                            </span>
                                        </label>
                                    </div>
                                </div>

                                <!-- Service Summary -->
                                <div class="bg-white rounded-2xl p-4 sm:p-6 border-2 border-carob-100 shadow-sm">
                                    <h4 class="font-bold text-carob-900 mb-4 flex items-center text-base sm:text-lg">
                                        <i data-lucide="scissors" class="w-4 h-4 sm:w-5 sm:h-5 text-chai-600 mr-2 flex-shrink-0"></i>
                                        <span>Layanan yang Dipilih</span>
                                    </h4>
                                    <div id="serviceSummary" class="space-y-3">
                                        <!-- Service summary will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>

                            <!-- Navigation Buttons -->
                            <div class="flex justify-between px-3 sm:px-8 pt-3 sm:pt-6 pb-3 sm:pb-4 border-t border-carob-100 flex-shrink-0 bg-white sticky bottom-0 z-10">
                                <button id="prevBtn" class="hidden px-3 sm:px-6 py-2 sm:py-3 bg-carob-100 text-carob-700 rounded-xl hover:bg-carob-200 transition-all duration-300 font-medium text-sm sm:text-base min-w-[80px] sm:min-w-[120px]">
                                    <span class="hidden sm:inline">‚Üê Sebelumnya</span>
                                    <span class="sm:hidden">‚Üê Prev</span>
                                </button>
                                <div class="flex-1"></div>
                                <button id="nextBtn" class="px-3 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-chai-500 to-chai-600 text-white rounded-xl hover:from-chai-600 hover:to-chai-700 hover:shadow-lg transition-all duration-300 font-medium text-sm sm:text-base min-w-[80px] sm:min-w-[120px]">
                                    <span class="hidden sm:inline">Selanjutnya ‚Üí</span>
                                    <span class="sm:hidden">Next ‚Üí</span>
                                </button>
                                <button id="submitBtn" class="hidden px-3 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-matcha-500 to-matcha-600 text-white rounded-xl hover:from-matcha-600 hover:to-matcha-700 hover:shadow-lg transition-all duration-300 font-medium text-sm sm:text-base min-w-[80px] sm:min-w-[120px]">
                                    <span class="hidden sm:inline">Konfirmasi Booking</span>
                                    <span class="sm:hidden">Konfirmasi</span>
                                </button>
                            </div>

                            <!-- Success Message -->
                            <div id="successMessage" class="hidden mx-4 sm:mx-8 mb-3 sm:mb-4 p-4 sm:p-6 bg-gradient-to-r from-matcha-50 to-matcha-100 border border-matcha-200 rounded-xl text-center flex-shrink-0">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-matcha-500 to-matcha-600 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4">
                                    <i data-lucide="check" class="text-white w-6 h-6 sm:w-8 sm:h-8"></i>
                                </div>
                                <h4 class="text-lg sm:text-xl font-bold text-matcha-800 mb-2">Booking Berhasil!</h4>
                                <p class="text-matcha-700 mb-3 sm:mb-4 text-sm sm:text-base">Appointment Anda telah berhasil dijadwalkan. Kami akan mengirimkan konfirmasi melalui WhatsApp.</p>
                                <button id="newBookingBtn" class="px-4 sm:px-6 py-2 sm:py-3 bg-matcha-500 text-white rounded-xl hover:bg-matcha-600 transition-all duration-300 font-medium text-sm sm:text-base">
                                    <span class="hidden sm:inline">Buat Booking Baru</span>
                                    <span class="sm:hidden">Booking Baru</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Booking Form JavaScript -->
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            let currentStep = 1;
            const totalSteps = 3;
            
            // Elements
            const quickBookBtns = document.querySelectorAll('.quick-book-btn');
            const appointmentBtn = document.getElementById('appointmentBtn');
            const bookingForm = document.getElementById('bookingForm');
            const closeForm = document.getElementById('closeForm');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            const progressBar = document.getElementById('progressBar');
            const currentStepSpan = document.getElementById('currentStep');

            // Touch interaction improvements for mobile
            function addTouchInteractions() {
                // Add touch feedback for buttons
                const buttons = document.querySelectorAll('button, .cursor-pointer');
                buttons.forEach(button => {
                    button.addEventListener('touchstart', function() {
                        this.style.transform = 'scale(0.95)';
                        this.style.transition = 'transform 0.1s ease';
                    });
                    
                    button.addEventListener('touchend', function() {
                        this.style.transform = 'scale(1)';
                    });
                    
                    button.addEventListener('touchcancel', function() {
                        this.style.transform = 'scale(1)';
                    });
                });

                // Improve radio button touch targets
                const radioLabels = document.querySelectorAll('label[for*="service"], label[for*="doctor"]');
                radioLabels.forEach(label => {
                    label.style.minHeight = '44px'; // iOS recommended touch target size
                    label.style.display = 'flex';
                    label.style.alignItems = 'center';
                });

                // Add swipe gestures for form navigation
                let touchStartX = 0;
                let touchEndX = 0;
                
                bookingForm.addEventListener('touchstart', function(e) {
                    touchStartX = e.changedTouches[0].screenX;
                });
                
                bookingForm.addEventListener('touchend', function(e) {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                });
                
                function handleSwipe() {
                    const swipeThreshold = 50;
                    const swipeDistance = touchEndX - touchStartX;
                    
                    if (Math.abs(swipeDistance) > swipeThreshold) {
                        if (swipeDistance > 0 && currentStep > 1) {
                            // Swipe right - go to previous step
                            previousStep();
                        } else if (swipeDistance < 0 && currentStep < totalSteps) {
                            // Swipe left - go to next step
                            if (validateCurrentStep()) {
                                nextStep();
                            }
                        }
                    }
                }

                // Prevent zoom on double tap for form inputs
                const inputs = document.querySelectorAll('input, select, textarea');
                inputs.forEach(input => {
                    input.addEventListener('touchend', function(e) {
                        e.preventDefault();
                        this.focus();
                    });
                });
            }

            // Initialize touch interactions
            addTouchInteractions();
            
            // Service prices
            const servicePrices = {
                'grooming': { name: 'Grooming Premium', price: 'Rp 100.000' },
                'konsultasi': { name: 'Konsultasi Dokter', price: 'Rp 150.000' },
                'vaksinasi': { name: 'Vaksinasi Lengkap', price: 'Rp 200.000' },
                'checkup': { name: 'Health Check-up', price: 'Rp 250.000' }
            };
            
            // Doctor names
            const doctorNames = {
                'dr-sarah': 'Dr. Sarah Wijaya',
                'dr-budi': 'Dr. Budi Santoso'
            };
            
            // Show/Hide form with seamless animation
            function showBookingForm(selectedService = null) {
                // Pre-select the service if provided
                if (selectedService) {
                    const serviceRadio = document.querySelector(`input[name^="petService_"][value="${selectedService}"]`);
                    if (serviceRadio) {
                        serviceRadio.checked = true;
                    }
                }
                
                // Show form with seamless slide-down animation
                bookingForm.style.maxHeight = '0px';
                bookingForm.style.overflow = 'hidden';
                bookingForm.style.opacity = '0';
                bookingForm.classList.remove('hidden');
                
                // Trigger animation
                setTimeout(() => {
                    bookingForm.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                    bookingForm.style.maxHeight = '1000px';
                    bookingForm.style.opacity = '1';
                    
                    // Smooth scroll to form
                    setTimeout(() => {
                        bookingForm.scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'start',
                            inline: 'nearest'
                        });
                    }, 300);
                }, 50);
            }
            
            // Appointment button handler
            appointmentBtn.addEventListener('click', function(e) {
                e.preventDefault();
                showBookingForm();
            });
            
            // Quick book buttons handler
            quickBookBtns.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const selectedService = this.getAttribute('data-service');
                    showBookingForm(selectedService);
                });
            });
            
            closeForm.addEventListener('click', function() {
                // Seamless slide-up animation
                bookingForm.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
                bookingForm.style.maxHeight = '0px';
                bookingForm.style.opacity = '0';
                
                setTimeout(() => {
                    bookingForm.classList.add('hidden');
                    bookingForm.style.maxHeight = '';
                    bookingForm.style.opacity = '';
                    bookingForm.style.transition = '';
                    resetForm();
                }, 400);
            });
            
            // Navigation
            nextBtn.addEventListener('click', function() {
                if (validateStep(currentStep)) {
                    if (currentStep < totalSteps) {
                        currentStep++;
                        updateStep();
                    }
                }
            });
            
            prevBtn.addEventListener('click', function() {
                if (currentStep > 1) {
                    currentStep--;
                    updateStep();
                }
            });
            
            submitBtn.addEventListener('click', function() {
                if (validateStep(currentStep)) {
                    // Store form data before hiding steps
                    const formData = {
                        customerName: document.getElementById('customerName')?.value || '',
                        customerWhatsapp: document.getElementById('customerWhatsapp')?.value || '',
                        selectedService: document.querySelector('input[name^="petService_"]:checked'),
                        appointmentDate: document.getElementById('appointmentDate')?.value || '',
                        appointmentTime: document.getElementById('appointmentTime')?.value || '',
                        selectedDoctor: document.querySelector('input[name^="doctor_"]:checked')
                    };
                    
                    // Show success message with stored data
                    showSuccessMessage(formData);
                }
            });
            
            function updateStep() {
                // Hide all steps
                document.querySelectorAll('.step-content').forEach(step => {
                    step.classList.add('hidden');
                });
                
                // Show current step
                document.getElementById('step' + currentStep).classList.remove('hidden');
                
                // Update progress bar
                const progress = (currentStep / totalSteps) * 100;
                progressBar.style.width = progress + '%';
                currentStepSpan.textContent = currentStep;
                
                // Update buttons
                prevBtn.classList.toggle('hidden', currentStep === 1);
                nextBtn.classList.toggle('hidden', currentStep === totalSteps);
                submitBtn.classList.toggle('hidden', currentStep !== totalSteps);
                
                // Generate doctor selections when entering step 2
                if (currentStep === 2) {
                    generateDoctorSelections();
                }
                
                // Update summary on step 3
                if (currentStep === 3) {
                    updateSummary();
                }
            }
            
            function validateStep(step) {
                switch(step) {
                    case 1:
                        // Validate all pets data including service selection
                        let allPetsValid = true;
                        let invalidPetIndex = -1;
                        
                        for (let i = 0; i < pets.length; i++) {
                            const petName = document.querySelector(`[name="petName_${i}"]`)?.value?.trim();
                            const petType = document.querySelector(`[name="petType_${i}"]`)?.value;
                            const petAge = document.querySelector(`[name="petAge_${i}"]`)?.value?.trim();
                            const petGender = document.querySelector(`[name="petGender_${i}"]:checked`);
                            const petColor = document.querySelector(`[name="petColor_${i}"]`)?.value?.trim();
                            const petService = document.querySelector(`[name="petService_${i}"]:checked`);
                            
                            if (!petName || !petType || !petAge || !petGender || !petColor || !petService) {
                                allPetsValid = false;
                                invalidPetIndex = i;
                                break;
                            }
                        }
                        
                        if (!allPetsValid) {
                            // Navigate to the invalid pet
                            currentPetIndex = invalidPetIndex;
                            showCurrentPet();
                            updatePetNavigation();
                            
                            Swal.fire({
                                icon: 'warning',
                                title: 'Data Tidak Lengkap',
                                text: `Silakan lengkapi data dan pilih layanan untuk hewan peliharaan #${invalidPetIndex + 1}`,
                                confirmButtonColor: '#D4A574'
                            });
                            return false;
                        }
                        return true;
                        
                    case 2:
                        const date = document.getElementById('appointmentDate').value;
                        const time = document.getElementById('appointmentTime').value;
                        
                        if (!date || !time) {
                            Swal.fire({
                                icon: 'warning',
                                title: 'Jadwal Belum Dipilih',
                                text: 'Silakan pilih tanggal dan waktu janji temu',
                                confirmButtonColor: '#D4A574'
                            });
                            return false;
                        }
                        
                        // Check if all pets have doctors assigned
                        let allDoctorsSelected = true;
                        for (let i = 0; i < pets.length; i++) {
                            const petService = document.querySelector(`[name="petService_${i}"]:checked`);
                            if (petService) {
                                const doctorSelected = document.querySelector(`input[name="doctor_${i}"]:checked`);
                                if (!doctorSelected) {
                                    allDoctorsSelected = false;
                                    break;
                                }
                            }
                        }
                        
                        if (!allDoctorsSelected) {
                            Swal.fire({
                                icon: 'warning',
                                title: 'Dokter Belum Dipilih',
                                text: 'Silakan pilih dokter untuk setiap hewan peliharaan',
                                confirmButtonColor: '#D4A574'
                            });
                            return false;
                        }
                        
                        // Check if date is not in the past
                        const selectedDate = new Date(date);
                        const today = new Date();
                        today.setHours(0, 0, 0, 0);
                        
                        if (selectedDate < today) {
                            Swal.fire({
                                icon: 'error',
                                title: 'Tanggal Tidak Valid',
                                text: 'Tanggal tidak boleh di masa lalu',
                                confirmButtonColor: '#D4A574'
                            });
                            return false;
                        }
                        return true;
                        
                    case 3:
                        const customerName = document.getElementById('customerName').value.trim();
                        const customerWhatsapp = document.getElementById('customerWhatsapp').value.trim();
                        const agreeTerms = document.getElementById('agreeTerms').checked;
                        const agreeResponsibility = document.getElementById('agreeResponsibility').checked;
                        
                        if (!customerName || !customerWhatsapp) {
                            Swal.fire({
                                icon: 'warning',
                                title: 'Informasi Tidak Lengkap',
                                text: 'Silakan lengkapi informasi kontak',
                                confirmButtonColor: '#D4A574'
                            });
                            return false;
                        }
                        
                        if (!agreeTerms) {
                            Swal.fire({
                                icon: 'warning',
                                title: 'Syarat dan Ketentuan',
                                text: 'Silakan setujui syarat dan ketentuan',
                                confirmButtonColor: '#D4A574'
                            });
                            return false;
                        }
                        
                        if (!agreeResponsibility) {
                            Swal.fire({
                                icon: 'warning',
                                title: 'Persetujuan Tanggung Jawab',
                                text: 'Silakan setujui pernyataan tanggung jawab klinik',
                                confirmButtonColor: '#D4A574'
                            });
                            return false;
                        }
                        
                        // Basic phone validation
                        if (customerWhatsapp.length < 10) {
                            Swal.fire({
                                icon: 'error',
                                title: 'Nomor Tidak Valid',
                                text: 'Nomor WhatsApp tidak valid',
                                confirmButtonColor: '#D4A574'
                            });
                            return false;
                        }
                        return true;
                        
                    default:
                        return true;
                }
            }
            
            function collectPetData() {
                // Update pets array with current form data
                pets.forEach((pet, index) => {
                    const nameInput = document.getElementById(`petName_${index}`);
                    const typeInput = document.getElementById(`petType_${index}`);
                    const ageInput = document.getElementById(`petAge_${index}`);
                    const genderInput = document.querySelector(`input[name="petGender_${index}"]:checked`);
                    const colorInput = document.getElementById(`petColor_${index}`);
                    const notesInput = document.getElementById(`petNotes_${index}`);
                    
                    if (nameInput) pet.name = nameInput.value;
                    if (typeInput) pet.type = typeInput.value;
                    if (ageInput) pet.age = ageInput.value;
                    if (genderInput) pet.gender = genderInput.value;
                    if (colorInput) pet.color = colorInput.value;
                    if (notesInput) pet.notes = notesInput.value;
                });
            }

            function updateSummary() {
                // Collect current pet data from forms
                collectPetData();
                
                // Update pets summary
                const petSummaryContainer = document.getElementById('petSummary');
                let petsSummaryHTML = '';
                let servicesUsed = new Set();
                
                pets.forEach((pet, index) => {
                    const petService = document.querySelector(`[name="petService_${index}"]:checked`);
                    if (petService) {
                        const serviceData = servicePrices[petService.value];
                        servicesUsed.add(serviceData.name);
                        
                        petsSummaryHTML += `
                            <div class="bg-gradient-to-r from-pistache-50 to-chai-50 rounded-xl p-4 border border-pistache-200">
                                <h5 class="font-bold text-carob-900 mb-3 flex items-center text-sm">
                                    <i data-lucide="heart" class="w-4 h-4 mr-2 text-pistache-600 flex-shrink-0"></i>
                                    <span>${pet.name}</span>
                                </h5>
                                <div class="grid grid-cols-2 gap-2 text-xs">
                                    <div class="flex justify-between">
                                        <span class="text-carob-600">Jenis:</span>
                                        <span class="font-semibold text-carob-900">${pet.type}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-carob-600">Usia:</span>
                                        <span class="font-semibold text-carob-900">${pet.age}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-carob-600">Kelamin:</span>
                                        <span class="font-semibold text-carob-900">${pet.gender}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-carob-600">Warna:</span>
                                        <span class="font-semibold text-carob-900">${pet.color}</span>
                                    </div>
                                    <div class="col-span-2 flex justify-between pt-2 border-t border-pistache-200">
                                        <span class="text-carob-600">Layanan:</span>
                                        <span class="font-semibold text-chai-600">${serviceData.name}</span>
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                });
                
                petSummaryContainer.innerHTML = petsSummaryHTML;
                
                // Update appointment summary
                const date = document.getElementById('appointmentDate').value;
                const time = document.getElementById('appointmentTime').value;
                
                if (date) {
                    const formattedDate = new Date(date).toLocaleDateString('id-ID', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                    document.getElementById('summaryDate').textContent = formattedDate;
                }
                
                if (time) {
                    document.getElementById('summaryTime').textContent = time + ' WIB';
                }
                
                // Update doctor summary - show all selected doctors
                let doctorSummary = '';
                pets.forEach((pet, index) => {
                    const petService = document.querySelector(`[name="petService_${index}"]:checked`);
                    const selectedDoctor = document.querySelector(`input[name="doctor_${index}"]:checked`);
                    
                    if (petService && selectedDoctor && pet.name) {
                        const doctorName = doctorNames[selectedDoctor.value];
                        doctorSummary += `${pet.name}: ${doctorName}<br>`;
                    }
                });
                
                if (doctorSummary) {
                    document.getElementById('summaryDoctor').innerHTML = doctorSummary;
                }
                
                // Update service summary
                const serviceSummaryContainer = document.getElementById('serviceSummary');
                let serviceSummaryHTML = '';
                
                Array.from(servicesUsed).forEach(serviceName => {
                    serviceSummaryHTML += `
                        <div class="flex items-center justify-between p-3 bg-gradient-to-r from-chai-50 to-white rounded-lg border border-chai-200">
                            <div class="flex items-center">
                                <i data-lucide="scissors" class="w-4 h-4 text-chai-600 mr-2"></i>
                                <span class="font-semibold text-carob-900 text-sm">${serviceName}</span>
                            </div>
                            <i data-lucide="check-circle" class="w-4 h-4 text-matcha-600"></i>
                        </div>
                    `;
                });
                
                serviceSummaryContainer.innerHTML = serviceSummaryHTML;
            }
            
            function showSuccessMessage(formData) {
                // Get data directly from DOM elements with better error handling
                const customerNameEl = document.getElementById('customerName');
                const customerWhatsappEl = document.getElementById('customerWhatsapp');
                const selectedServiceEl = document.querySelector('input[name^="petService_"]:checked');
                const dateEl = document.getElementById('appointmentDate');
                const timeEl = document.getElementById('appointmentTime');
                const selectedDoctorEl = document.querySelector('input[name^="doctor_"]:checked');
                
                // Extract values with fallbacks
                const customerName = customerNameEl?.value || formData?.customerName || '';
                const customerWhatsapp = customerWhatsappEl?.value || formData?.customerWhatsapp || '';
                const selectedService = selectedServiceEl || formData?.selectedService;
                const date = dateEl?.value || formData?.appointmentDate || '';
                const time = timeEl?.value || formData?.appointmentTime || '';
                const selectedDoctor = selectedDoctorEl || formData?.selectedDoctor;
                
                // Debug logging to see what's missing
                console.log('Form data check:', {
                    customerName: customerName,
                    customerWhatsapp: customerWhatsapp,
                    selectedService: selectedService?.value,
                    date: date,
                    time: time,
                    selectedDoctor: selectedDoctor?.value
                });
                
                // Comprehensive logging for all pets data
                console.log('=== COMPREHENSIVE FORM DATA ===');
                console.log('Customer Info:', {
                    name: customerName,
                    whatsapp: customerWhatsapp,
                    appointmentDate: date,
                    appointmentTime: time,
                    selectedDoctor: selectedDoctor?.value,
                    doctorName: doctorNames[selectedDoctor?.value] || 'Not selected'
                });
                
                console.log('Pets Data:');
                pets.forEach((pet, index) => {
                    const petName = document.querySelector(`[name="petName_${index}"]`)?.value || '-';
                    const petType = document.querySelector(`[name="petType_${index}"]`)?.value || '-';
                    const petGender = document.querySelector(`[name="petGender_${index}"]:checked`)?.value || '-';
                    const petColor = document.querySelector(`[name="petColor_${index}"]`)?.value || '-';
                    const petAge = document.querySelector(`[name="petAge_${index}"]`)?.value || '-';
                    const petNotes = document.querySelector(`[name="petNotes_${index}"]`)?.value || '';
                    const petService = document.querySelector(`[name="petService_${index}"]:checked`);
                    const petDoctor = document.querySelector(`[name="doctor_${index}"]:checked`);
                    
                    console.log(`Pet ${index + 1}:`, {
                        name: petName,
                        type: petType,
                        gender: petGender,
                        color: petColor,
                        age: petAge,
                        notes: petNotes,
                        selectedService: petService?.value || 'Not selected',
                        serviceName: petService ? servicePrices[petService.value]?.name : 'Not selected',
                        servicePrice: petService ? servicePrices[petService.value]?.price : 'Not selected',
                        selectedDoctor: petDoctor?.value || 'Not selected',
                        doctorName: petDoctor ? doctorNames[petDoctor.value] : 'Not selected'
                    });
                });
                
                // Calculate and log total information
                let logTotalPrice = 0;
                let logAllServices = [];
                pets.forEach((pet, index) => {
                    const petService = document.querySelector(`[name="petService_${index}"]:checked`);
                    if (petService) {
                        const serviceData = servicePrices[petService.value];
                        logTotalPrice += parseInt(serviceData.price.replace(/[^\d]/g, ''));
                        logAllServices.push(`${serviceData.name} (${serviceData.price})`);
                    }
                });
                
                const logFormattedTotalPrice = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0
                }).format(logTotalPrice);
                
                console.log('Summary:', {
                    totalPets: pets.length,
                    selectedServices: logAllServices,
                    totalPrice: logFormattedTotalPrice,
                    appointmentDate: date,
                    appointmentTime: time
                });
                console.log('=== END COMPREHENSIVE DATA ===');
                
                // Check if all required data exists
                if (!customerName || !customerWhatsapp || !selectedService || !date || !time || !selectedDoctor) {
                    console.error('Required form data not available. Missing:', {
                        customerName: !customerName,
                        customerWhatsapp: !customerWhatsapp,
                        selectedService: !selectedService,
                        date: !date,
                        time: !time,
                        selectedDoctor: !selectedDoctor
                    });
                    
                    // Try to get missing data from visible form elements
                    if (!customerName || !customerWhatsapp) {
                        alert('Mohon lengkapi data pelanggan terlebih dahulu');
                        return;
                    }
                    if (!selectedService) {
                        alert('Mohon pilih layanan terlebih dahulu');
                        return;
                    }
                    if (!date || !time) {
                        alert('Mohon pilih tanggal dan waktu appointment');
                        return;
                    }
                    if (!selectedDoctor) {
                        alert('Mohon pilih dokter terlebih dahulu');
                        return;
                    }
                    return;
                }
                
                const serviceData = servicePrices[selectedService.value];
                const doctorName = doctorNames[selectedDoctor.value];
                
                // Format date for display
                const formattedDate = new Date(date).toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Create pets information for WhatsApp message
                let petsInfo = '';
                pets.forEach((pet, index) => {
                    const petName = document.querySelector(`[name="petName_${index}"]`)?.value || '-';
                    const petType = document.querySelector(`[name="petType_${index}"]`)?.value || '-';
                    const petGender = document.querySelector(`[name="petGender_${index}"]:checked`)?.value || '-';
                    const petColor = document.querySelector(`[name="petColor_${index}"]`)?.value || '-';
                    const petAge = document.querySelector(`[name="petAge_${index}"]`)?.value || '-';
                    const petNotes = document.querySelector(`[name="petNotes_${index}"]`)?.value || '';
                    
                    petsInfo += `üêæ *Pet ${index + 1}:* ${petName} (${petType})\n`;
                    petsInfo += `   ‚Ü≥ Umur: ${petAge}, Gender: ${petGender}, Warna: ${petColor}\n`;
                    if (petNotes.trim()) {
                        petsInfo += `   ‚Ü≥ Catatan: ${petNotes}\n`;
                    }
                    petsInfo += '\n';
                });
                
                // Create WhatsApp message
                let servicesInfo = '';
                let totalPrice = 0;
                let allServices = new Set();
                
                pets.forEach((pet, index) => {
                    const petService = document.querySelector(`[name="petService_${index}"]:checked`);
                    if (petService) {
                        const serviceData = servicePrices[petService.value];
                        totalPrice += parseInt(serviceData.price.replace(/[^\d]/g, ''));
                        allServices.add(serviceData.name);
                        
                        servicesInfo += `   ‚Ü≥ Layanan: ${serviceData.name} (${serviceData.price})\n`;
                    }
                });
                
                const formattedTotalPrice = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0
                }).format(totalPrice);
                
                const whatsappMessage = `*BOOKING APPOINTMENT ZOW-ZOW*\n\n` +
                    `üë§ *Nama:* ${customerName}\n` +
                    `${petsInfo}` +
                    `${servicesInfo}\n` +
                    `üí∞ *Total Harga:* ${formattedTotalPrice}\n` +
                    `üìÖ *Tanggal:* ${formattedDate}\n` +
                    `‚è∞ *Waktu:* ${time} WIB\n` +
                    `üë®‚Äç‚öïÔ∏è *Dokter:* ${doctorName}\n\n` +
                    `Mohon konfirmasi ketersediaan jadwal. Terima kasih! üôè`;
                
                // Encode message for WhatsApp URL
                const encodedMessage = encodeURIComponent(whatsappMessage);
                const whatsappUrl = `https://wa.me/6281234567890?text=${encodedMessage}`;
                
                // Create pets names for success message
                const petsNames = pets.map((pet, index) => {
                    const petName = document.querySelector(`[name="petName_${index}"]`)?.value || `Pet ${index + 1}`;
                    return petName;
                }).join(', ');
                
                // Hide all steps and show success message
                document.querySelectorAll('.step-content').forEach(step => {
                    step.classList.add('hidden');
                });
                
                // Hide navigation buttons
                document.querySelector('.flex.justify-between').classList.add('hidden');
                
                // Show success message
                const successMessage = document.getElementById('successMessage');
                successMessage.classList.remove('hidden');
                
                // Update success message content with booking details
                const successTitle = successMessage.querySelector('h4');
                const successText = successMessage.querySelector('p');
                
                successTitle.textContent = `Booking Berhasil, ${customerName}!`;
                successText.innerHTML = `Appointment untuk <strong>${petsNames}</strong> dengan layanan <strong>${Array.from(allServices).join(', ')}</strong> telah berhasil dijadwalkan pada <strong>${formattedDate}</strong> pukul <strong>${time} WIB</strong>.<br><br>Silakan klik tombol di bawah untuk mengirim konfirmasi melalui WhatsApp.`;
                
                // Add WhatsApp button
                const newBookingBtn = document.getElementById('newBookingBtn');
                newBookingBtn.innerHTML = `
                    <span class="hidden sm:inline">Kirim ke WhatsApp</span>
                    <span class="sm:hidden">WhatsApp</span>
                `;
                newBookingBtn.onclick = function() {
                    window.open(whatsappUrl, '_blank');
                    // Refresh page after 2 seconds
                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                };
            }
            
            function resetForm() {
                currentStep = 1;
                updateStep();
                
                // Reset all form fields
                document.querySelectorAll('input[type="text"], input[type="tel"], textarea, select').forEach(field => {
                    field.value = '';
                });
                
                document.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.checked = false;
                });
                
                document.getElementById('appointmentDate').value = '';
                
                // Reset multi-pet functionality
                pets = [];
                currentPetIndex = 0;
                document.getElementById('petFormsContainer').innerHTML = '';
                document.getElementById('petNavigation').classList.add('hidden');
                
                // Re-initialize with first pet
                addPet();
            }
            
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('appointmentDate').setAttribute('min', today);
            
            // Multi-Pet Functionality
            let pets = [];
            let currentPetIndex = 0;
            
            function initializeMultiPet() {
                // Add first pet by default
                addPet();
                
                // Event listeners
                document.getElementById('addPetBtn').addEventListener('click', addPet);
                document.getElementById('prevPetBtn').addEventListener('click', () => navigatePet(-1));
                document.getElementById('nextPetBtn').addEventListener('click', () => navigatePet(1));
            }
            
            function addPet() {
                const petIndex = pets.length;
                const petData = {
                    index: petIndex,
                    name: '',
                    type: '',
                    age: '',
                    gender: '',
                    color: '',
                    notes: ''
                };
                
                pets.push(petData);
                
                // Create pet form from template
                const template = document.getElementById('petFormTemplate');
                const clone = template.content.cloneNode(true);
                
                // Update form attributes and IDs
                const wrapper = clone.querySelector('.pet-form-wrapper');
                wrapper.setAttribute('data-pet-index', petIndex);
                wrapper.style.display = petIndex === currentPetIndex ? 'block' : 'none';
                
                // Update title
                clone.querySelector('.pet-title').textContent = `Hewan Peliharaan #${petIndex + 1}`;
                
                // Update form field names and IDs
                const inputs = clone.querySelectorAll('input, textarea, select');
                inputs.forEach(input => {
                    if (input.name && input.name.includes('petGender_')) {
                        input.name = `petGender_${petIndex}`;
                    } else if (input.name && input.name.includes('petService_')) {
                        input.name = `petService_${petIndex}`;
                    } else {
                        const baseName = input.className.includes('pet-name') ? 'petName' :
                                       input.className.includes('pet-type') ? 'petType' :
                                       input.className.includes('pet-age') ? 'petAge' :
                                       input.className.includes('pet-color') ? 'petColor' :
                                       input.className.includes('pet-notes') ? 'petNotes' : '';
                        
                        if (baseName) {
                            input.name = `${baseName}_${petIndex}`;
                            input.id = `${baseName}_${petIndex}`;
                        }
                    }
                });
                
                // Update service radio button names (redundant but keeping for safety)
                const serviceRadios = clone.querySelectorAll('input[name*="petService_"]');
                serviceRadios.forEach(radio => {
                    radio.name = `petService_${petIndex}`;
                });
                
                // Add remove button functionality
                const removeBtn = clone.querySelector('.remove-pet-btn');
                if (pets.length > 1) {
                    removeBtn.classList.remove('hidden');
                }
                removeBtn.addEventListener('click', () => removePet(petIndex));
                
                // Add to container
                document.getElementById('petFormsContainer').appendChild(clone);
                
                // Re-initialize Lucide icons for the new cloned form
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
                
                // Update UI
                updatePetNavigation();
                updatePetCounter();
                
                // Show navigation if more than one pet
                if (pets.length > 1) {
                    document.getElementById('petNavigation').classList.remove('hidden');
                }
            }
            
            function removePet(petIndex) {
                if (pets.length <= 1) return;
                
                // Remove from array
                pets.splice(petIndex, 1);
                
                // Remove from DOM
                const wrapper = document.querySelector(`[data-pet-index="${petIndex}"]`);
                if (wrapper) {
                    wrapper.remove();
                }
                
                // Update remaining pet indices
                pets.forEach((pet, index) => {
                    pet.index = index;
                    const wrapper = document.querySelector(`[data-pet-index="${petIndex + index + 1}"]`);
                    if (wrapper) {
                        wrapper.setAttribute('data-pet-index', index);
                        wrapper.querySelector('.pet-title').textContent = `Hewan Peliharaan #${index + 1}`;
                    }
                });
                
                // Adjust current pet index
                if (currentPetIndex >= pets.length) {
                    currentPetIndex = pets.length - 1;
                }
                
                // Update UI
                updatePetNavigation();
                updatePetCounter();
                showCurrentPet();
                
                // Hide navigation if only one pet
                if (pets.length <= 1) {
                    document.getElementById('petNavigation').classList.add('hidden');
                }
            }
            
            function navigatePet(direction) {
                const newIndex = currentPetIndex + direction;
                if (newIndex >= 0 && newIndex < pets.length) {
                    currentPetIndex = newIndex;
                    showCurrentPet();
                    updatePetNavigation();
                }
            }
            
            function showCurrentPet() {
                document.querySelectorAll('.pet-form-wrapper').forEach((wrapper, index) => {
                    wrapper.style.display = index === currentPetIndex ? 'block' : 'none';
                });
            }
            
            function updatePetNavigation() {
                const petTabs = document.getElementById('petTabs');
                petTabs.innerHTML = '';
                
                pets.forEach((pet, index) => {
                    const tab = document.createElement('button');
                    tab.type = 'button';
                    tab.className = `px-3 py-1 rounded-lg text-xs font-medium transition-all duration-300 ${
                        index === currentPetIndex 
                            ? 'bg-chai-500 text-white' 
                            : 'bg-carob-100 text-carob-600 hover:bg-chai-100'
                    }`;
                    tab.textContent = index + 1;
                    tab.addEventListener('click', () => {
                        currentPetIndex = index;
                        showCurrentPet();
                        updatePetNavigation();
                    });
                    petTabs.appendChild(tab);
                });
                
                // Update navigation buttons
                document.getElementById('prevPetBtn').disabled = currentPetIndex === 0;
                document.getElementById('nextPetBtn').disabled = currentPetIndex === pets.length - 1;
            }
            
            function updatePetCounter() {
                document.getElementById('petCounter').textContent = `Pet ${currentPetIndex + 1} dari ${pets.length}`;
            }
            
            function updatePetsSummary() {
                const container = document.getElementById('petSummary');
                if (!container) {
                    console.error('petSummary element not found');
                    return;
                }
                
                container.innerHTML = '';
                
                pets.forEach((pet, index) => {
                    const petName = document.querySelector(`[name="petName_${index}"]`)?.value || '-';
                    const petType = document.querySelector(`[name="petType_${index}"]`)?.value || '-';
                    const petGender = document.querySelector(`[name="petGender_${index}"]:checked`)?.value || '-';
                    const petColor = document.querySelector(`[name="petColor_${index}"]`)?.value || '-';
                    
                    const petSummary = document.createElement('div');
                    petSummary.className = 'mb-3 p-3 bg-gradient-to-r from-matcha-50 to-pistache-50 rounded-xl border border-matcha-200';
                    petSummary.innerHTML = `
                        <h5 class="font-semibold text-carob-800 mb-2 flex items-center text-sm">
                            <i data-lucide="paw-print" class="w-3 h-3 mr-2 text-matcha-600"></i>
                            Hewan Peliharaan #${index + 1}
                        </h5>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                            <div class="flex justify-between">
                                <span class="text-carob-600">Nama:</span>
                                <span class="font-medium text-carob-900">${petName}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-carob-600">Jenis:</span>
                                <span class="font-medium text-carob-900">${petType}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-carob-600">Gender:</span>
                                <span class="font-medium text-carob-900">${petGender}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-carob-600">Warna:</span>
                                <span class="font-medium text-carob-900">${petColor}</span>
                            </div>
                        </div>
                    `;
                    container.appendChild(petSummary);
                });
                
                // Re-initialize Lucide icons
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
            }
            
            // Initialize multi-pet functionality
            initializeMultiPet();
            
            // Generate doctor selections for each pet based on their services
            function generateDoctorSelections() {
                const container = document.getElementById('doctorSelectionContainer');
                let doctorHTML = '';
                
                // Collect current pet data
                collectPetData();
                
                pets.forEach((pet, index) => {
                    const petService = document.querySelector(`[name="petService_${index}"]:checked`);
                    if (petService && pet.name) {
                        const serviceData = servicePrices[petService.value];
                        
                        doctorHTML += `
                            <div class="mb-6 p-4 bg-gradient-to-r from-pistache-50 to-chai-50 rounded-xl border border-pistache-200">
                                <h4 class="font-bold text-carob-900 mb-3 flex items-center text-sm">
                                    <i data-lucide="heart" class="w-4 h-4 mr-2 text-pistache-600"></i>
                                    ${pet.name} - ${serviceData.name}
                                </h4>
                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-3">
                                    <label class="group flex items-center p-3 border-2 border-carob-100 rounded-xl hover:border-matcha-500 cursor-pointer transition-all duration-300 hover:shadow-lg hover:bg-gradient-to-br hover:from-matcha-50 hover:to-white">
                                        <input type="radio" name="doctor_${index}" value="dr-sarah" class="mr-3 text-matcha-500 scale-110 flex-shrink-0">
                                        <div class="flex items-center flex-1 min-w-0">
                                            <div class="w-10 h-10 bg-gradient-to-br from-matcha-400 to-matcha-600 rounded-full flex items-center justify-center mr-3 group-hover:scale-105 transition-transform duration-300 flex-shrink-0">
                                                <i data-lucide="stethoscope" class="text-white w-5 h-5"></i>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <div class="font-bold text-carob-900 text-sm truncate">Dr. Sarah Wijaya</div>
                                                <div class="text-xs text-carob-600 font-medium truncate">üê± Spesialis Hewan Kecil</div>
                                                <div class="text-xs text-matcha-600 truncate">‚≠ê 4.9 Rating</div>
                                            </div>
                                        </div>
                                    </label>
                                    <label class="group flex items-center p-3 border-2 border-carob-100 rounded-xl hover:border-chai-500 cursor-pointer transition-all duration-300 hover:shadow-lg hover:bg-gradient-to-br hover:from-chai-50 hover:to-white">
                                        <input type="radio" name="doctor_${index}" value="dr-budi" class="mr-3 text-chai-500 scale-110 flex-shrink-0">
                                        <div class="flex items-center flex-1 min-w-0">
                                            <div class="w-10 h-10 bg-gradient-to-br from-chai-400 to-chai-600 rounded-full flex items-center justify-center mr-3 group-hover:scale-105 transition-transform duration-300 flex-shrink-0">
                                                <i data-lucide="stethoscope" class="text-white w-5 h-5"></i>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <div class="font-bold text-carob-900 text-sm truncate">Dr. Budi Santoso</div>
                                                <div class="text-xs text-carob-600 font-medium truncate">üêï Spesialis Hewan Besar</div>
                                                <div class="text-xs text-chai-600 truncate">‚≠ê 4.8 Rating</div>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        `;
                    }
                });
                
                container.innerHTML = doctorHTML;
            }
            
            // Update the existing updateSummary function to handle multiple pets
            const originalUpdateSummary = updateSummary;
            updateSummary = function() {
                originalUpdateSummary();
                updatePetsSummary();
            };
            
        });
        </script>